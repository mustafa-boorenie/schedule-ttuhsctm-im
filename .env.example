# =============================================================================
# Residency Rotation Calendar - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values for your deployment

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
DEBUG=false
BASE_URL=http://localhost:8000
SECRET_KEY=change-me-in-production-use-strong-secret-at-least-32-chars

# CORS origins (comma-separated list, or * for all)
CORS_ORIGINS=*

# Rate limiting (requests per minute per IP)
RATE_LIMIT_PER_MINUTE=60

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/rotation_calendar

# For Docker Compose (these override the above)
POSTGRES_PASSWORD=your-secure-password
POSTGRES_DB=rotation_calendar

# Connection pool settings
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# Email (for magic links)
# -----------------------------------------------------------------------------
# Using SendGrid as example - works with any SMTP provider
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
FROM_EMAIL=calendar@yourprogram.edu

# Magic link settings
MAGIC_LINK_EXPIRE_MINUTES=15
SESSION_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# OpenAI (for LLM parsing of days off)
# -----------------------------------------------------------------------------
# Optional - only needed for natural language parsing feature
OPENAI_API_KEY=sk-...

# -----------------------------------------------------------------------------
# Amion Integration
# -----------------------------------------------------------------------------
# Optional - only needed if syncing with Amion
AMION_BASE_URL=https://www.amion.com/organizations/YOUR_ORG_ID/schedules/YOUR_SCHEDULE_ID
AMION_SYNC_HOUR=3

# -----------------------------------------------------------------------------
# Schedule Configuration
# -----------------------------------------------------------------------------
SCHEDULE_START_YEAR=2025
SCHEDULE_START_MONTH=7
SCHEDULE_START_DAY=1

# -----------------------------------------------------------------------------
# Docker Compose Settings
# -----------------------------------------------------------------------------
APP_PORT=8000
